(function(){String.prototype.a||(String.prototype.a=function(f,c){return this.replace(new RegExp(f,"g"),c)});
function m(){function f(){var k=0<g.length?g.substr(1,g.length-1):"";b||c();if(!b)return k+"\u205f";for(;70>k.length;){var a=70-k.length;if(b.getLength()<=h){c();if(!b)return k+"\u205f";b.getLength()}a=b.getTextRange(h,a);h+=a.length;k+=a}return k}function c(){for(var a,c=0,f=d.length;c<f;){if(0>l||l>=d.length)l=0;var e=d[l];if(!e.updateTimeout((new Date).getTime())){a=e;break}c++}h=0;return b=a}function a(a){console.log("movingTextItemDispose");a=a.movingTextItem;var c=d.indexOf(a);0>c||(c<=l&&(l--,
b==a&&(b=null)),d.splice(c,1),e.dispatchEvent({type:"removed",movingTextItem:a}))}window.EventEnabledBuilder(this);var e=this;(new n({movingText:e,extraTicksBeforeStop:70})).onTick=function(){var a=f();console.log(a);console.log(a.length);g=a;e.dispatchEvent({type:"displaystring",str:a})};var d=[],b,h=0,g="";(function(){for(var a=0;70>a;a++)g+="\u205f"})();var l=0;this.append=function(b){0<=d.indexOf(b)||(d.push(b),b.addEventListener("dispose",a),e.dispatchEvent({type:"added",movingTextItem:b}))};
this.count=function(){return d.length}}function n(f){var c=this,a=f.movingText,e=f.extraTicksBeforeStop,d=!0,b=new window.Timer({delay:1E3/9,callback:function(){var a=c.onTick;h&&0>=g--?b.stop():a&&a()}});a.addEventListener("removed",function(){d||0<a.count()||(d=!0,g=e,h=!0)});a.addEventListener("added",function(){d&&(b.start(),h=d=!1)});var h=!1,g=e}
var q=window.MovingTextItem=function(f){window.EventEnabledBuilder(this);var c=this,a=f.text,e=f.lifecycle;e||(e=new p["default"]);(function(){for(var b;" "==(b=a.substr(a.length-1,1))||"\u2063"==b;)a=a.substr(0,a.length-1);a+="\u205f\u205f\u205f";a=a.a(" ","\u205f")})();var d=!1;this.getText=function(b){return b<=a.length?a:a.substr(0,a.length)};this.getTextRange=function(b,c){return c+b<=a.length?a.substr(b,c):a.substr(b,a.length-b)};this.getLength=function(){return a.length};this.updateTimeout=
function(a){e.setVisible();(a=e.updateTimeout(a))&&c.dispose();return a};this.dispose=function(){d||(d=!0,c.dispatchEvent({type:"dispose",movingTextItem:c}))};this.getDisposed=function(){return d}},p=window.MovingTextLifecycle=function(){function f(c){var a=c.fromVisible,e=c.duration,d,b;!a&&e&&(b=(new Date).getTime()+e);this.getVisible=function(){return d?!0:!1};this.setVisible=function(){d||(d=(new Date).getTime(),console.log(d),a&&e&&(b=d+e))};this.getTimeoutAt=function(){return b};this.updateTimeout=
function(a){if(b)return a>=b}}f["default"]=function(){return new f({fromVisible:!0,duration:1E4})};return f}();window.Title=function(){window.EventEnabledBuilder(this);var f=new m;this.add=function(c){"string"==typeof c?(c=new q({text:c}),f.append(c)):f.append(c)};f.addEventListener("displaystring",function(c){document.title="\u2063"+c.str})};})();