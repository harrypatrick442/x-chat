(function(){function k(){function c(){if(0>f||f>=b.length)f=0;g=0;return b[f]}function e(d){var c=b.indexOf(d);0>c||(c<=f&&f--,b.splice(c,1),a.dispatchEvent({type:"removed",movingTextItem:d}))}window.EventEnabledBuilder(this);var a=this;(new l({movingText:a})).onTick=function(){var b=0<h.length?h.substr(1,h.length-1):"";d||(d=c());if(d){for(;50>b.length;){var e=50-b.length;d.getLength()<=g&&(c(),d.getLength());e=d.getTextRange(g,e);g+=e.length;b+=e}console.log(b)}else b+=" ";h=b;a.dispatchEvent({type:"displaystring",
str:b})};var b=[],d,g=0,h="",f=0;this.append=function(d){0<=b.indexOf(d)||(b.push(d),d.addEventListener("dispose",e),a.dispatchEvent({type:"added",movingTextItem:d}))}}function l(c){var e=this,a=c.movingText,b=!0,d=new window.Timer({delay:1E3/9,callback:function(){var a=e.onTick;a&&a()}});a.addEventListener("removed",function(){b||0<a.count()||(d.stop(),b=!0)});a.addEventListener("added",function(){b&&(d.start(),b=!1)})}
var n=window.MovingTextItem=function(c){console.log(c);window.EventEnabledBuilder(this);var e=this,a=c.text;for((c=c.lifecycle)||(c=new m["default"]);0<a.length&&" "==a.substr(a.length-1,1);)a=a.substr(0,a.length-2);a+="\u205f\u205f\u205f";var b=!1;this.getText=function(d){return d<=a.length?a:a.substr(0,a.length)};this.getTextRange=function(d,b){return b+d<=a.length?a.substr(d,b):a.substr(d,a.length-d)};this.dispose=function(){b=!0;e.dispatchDispose({type:"dispose",movingTextItem:e})};this.getLength=
function(){return a.length};this.getDisposed=function(){return b}},m=window.MovingTextLifecycle=function(){function c(e){var a=e.fromVisible,b=e.duration,d,c;!a&&b&&(c=(new Date).getTime()+b);this.getVisible=function(){return d?!0:!1};this.setVisible=function(){d=(new Date).getTime();a&&b&&(c=d+b)};this.getTimeoutAt=function(){return c}}c["default"]=function(){return new c({fromVisible:!0,duration:1E4})};return c}();
window.Title=function(){window.EventEnabledBuilder(this);var c=new k;this.add=function(e){"string"==typeof e?(e=new n({text:e}),c.append(e)):c.append(e)};c.addEventListener("displaystring",function(c){console.log(c);document.title="|"+c.str})};})();